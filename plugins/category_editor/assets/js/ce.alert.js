!function(e){e.cealerts={verticalOffset:-75,horizontalOffset:0,repositionOnResize:!0,overlayOpacity:.2,overlayColor:"#9e9e9e",draggable:!0,okButton:"&nbsp;Продолжить&nbsp;",cancelButton:"&nbsp;Отмена&nbsp;",dialogClass:null,alert:function(p,o,t){null==o&&(o="Alert"),e.cealerts._show(o,p,null,"alert",function(e){t&&t(e)})},confirm:function(p,o,t){null==o&&(o="Confirm"),e.cealerts._show(o,p,null,"confirm",function(e){t&&t(e)})},prompt:function(p,o,t,c){null==t&&(t="Prompt"),e.cealerts._show(t,p,o,"prompt",function(e){c&&c(e)})},promptval:function(p,o,t,c){null==t&&(t="Promptval"),e.cealerts._show(t,p,o,"promptval",function(e){c&&c(e)})},_show:function(p,o,t,c,i){switch(e.cealerts._hide(),e.cealerts._overlay("show"),e("BODY").append('<div id="ce_popup_container"><h1 id="ce_popup_title"></h1><div id="ce_popup_content"><div id="ce_popup_message"></div></div></div>'),e.cealerts.dialogClass&&e("#ce_popup_container").addClass(e.cealerts.dialogClass),e("#ce_popup_container").css({position:"fixed",zIndex:99999,padding:0,margin:0}),e("#ce_popup_title").text(p),e("#ce_popup_content").addClass(c),"promptval"!=c&&(e("#ce_popup_message").text(o),e("#ce_popup_message").html(e("#ce_popup_message").text().replace(/\n/g,"<br />"))),e("#ce_popup_container").css({minWidth:e("#ce_popup_container").outerWidth()}),e.cealerts._reposition(),e.cealerts._maintainPosition(!0),c){case"alert":e("#ce_popup_message").after('<div id="ce_popup_panel"><input type="button" value="'+e.cealerts.okButton+'" id="popup_ok" /></div>'),e("#popup_ok").click(function(){e.cealerts._hide(),i(!0)}),e("#popup_ok").focus().keypress(function(p){(13==p.keyCode||27==p.keyCode)&&e("#popup_ok").trigger("click")});break;case"confirm":e("#ce_popup_message").after('<div id="ce_popup_panel"><input type="button" value="'+e.cealerts.okButton+'" id="popup_ok" /> <input type="button" value="'+e.cealerts.cancelButton+'" id="popup_cancel" /></div>'),e("#popup_ok").click(function(){e.cealerts._hide(),i&&i(!0)}),e("#popup_cancel").click(function(){e.cealerts._hide(),i&&i(!1)}),e("#popup_ok").focus(),e("#popup_ok, #popup_cancel").keypress(function(p){13==p.keyCode&&e("#popup_ok").trigger("click"),27==p.keyCode&&e("#popup_cancel").trigger("click")});break;case"prompt":e("#ce_popup_message").append('<br /><input type="text" size="30" id="ce_popup_prompt" />').after('<div id="ce_popup_panel"><input type="button" value="'+e.cealerts.okButton+'" id="popup_ok" /> <input type="button" value="'+e.cealerts.cancelButton+'" id="popup_cancel" /></div>'),e("#ce_popup_prompt").width(e("#ce_popup_message").width()),e("#popup_ok").click(function(){var p=e("#ce_popup_prompt").val();e.cealerts._hide(),i&&i(p)}),e("#popup_cancel").click(function(){e.cealerts._hide(),i&&i(null)}),e("#ce_popup_prompt, #popup_ok, #popup_cancel").keypress(function(p){13==p.keyCode&&e("#popup_ok").trigger("click"),27==p.keyCode&&e("#popup_cancel").trigger("click")}),t&&e("#ce_popup_prompt").val(t),e("#ce_popup_prompt").focus().select();break;case"promptval":e("#ce_popup_message").append('<label><input type="checkbox" id="ce_popup_prompt" name="set" value="setinfo" /> <span>'+o+"</span></label>").after('<div id="ce_popup_panel"><input type="button" value="'+e.cealerts.okButton+'" id="popup_ok" /> <input type="button" value="'+e.cealerts.cancelButton+'" id="popup_cancel" /></div>'),e("#ce_popup_prompt").width(e("#ce_popup_message").width()),e("#popup_ok").click(function(){if(e("#ce_popup_prompt").is(":checked")){var p="checked";e.cealerts._hide(),i&&i(p)}else e.cealerts._hide(),i&&i(!0)}),e("#popup_cancel").click(function(){e.cealerts._hide(),i&&i(!1)}),e("#ce_popup_prompt, #popup_ok, #popup_cancel").keypress(function(p){13==p.keyCode&&e("#popup_ok").trigger("click"),27==p.keyCode&&e("#popup_cancel").trigger("click")}),t&&e("#ce_popup_prompt").val(t),e("#ce_popup_prompt").focus().select()}if(e.cealerts.draggable)try{e("#ce_popup_container").draggable({handle:e("#ce_popup_title")}),e("#ce_popup_title").css({cursor:"move"})}catch(n){}},_hide:function(){e("#ce_popup_container").remove(),e.cealerts._overlay("hide"),e.cealerts._maintainPosition(!1)},_overlay:function(p){switch(p){case"show":e.cealerts._overlay("hide"),e("BODY").append('<div id="popup_overlay"></div>'),e("#popup_overlay").css({position:"absolute",zIndex:99998,top:"0px",left:"0px",width:"100%",height:e(document).height(),background:e.cealerts.overlayColor,opacity:e.cealerts.overlayOpacity});break;case"hide":e("#popup_overlay").remove()}},_reposition:function(){var p=e(window).height()/2-e("#ce_popup_container").outerHeight()/2+e.cealerts.verticalOffset,o=e(window).width()/2-e("#ce_popup_container").outerWidth()/2+e.cealerts.horizontalOffset;0>p&&(p=0),0>o&&(o=0),e("#ce_popup_container").css({top:p+"px",left:o+"px"}),e("#popup_overlay").height(e(document).height())},_maintainPosition:function(p){if(e.cealerts.repositionOnResize)switch(p){case!0:e(window).bind("resize",e.cealerts._reposition);break;case!1:e(window).unbind("resize",e.cealerts._reposition)}}},CEjAlert=function(p,o,t){e.cealerts.alert(p,o,t)},CEjConfirm=function(p,o,t){e.cealerts.confirm(p,o,t)},CEjPrompt=function(p,o,t,c){e.cealerts.prompt(p,o,t,c)},CEjPromptval=function(p,o,t,c){e.cealerts.promptval(p,o,t,c)}}(jQuery);