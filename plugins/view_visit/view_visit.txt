Плагин view_visit под систему управления сайтами MaxSite
Версия 0.5 включает в себя такие возможности:
- Определение таких параметров посетителей как ай-пи, браузер, платформу, реферер (откуда пришел пользователь), 
ссылка (куда пришел пользователь), время, расширение монитора, язык, страну.
- Подсчет хостов и хитов за сутки и за весь период работы плагина
- Просмотр хостов и переходов, сделаных с этих хостов
- Определение, куда переходил посетитель по сайту
- Количество посещенных УРЛ на сайте (список). Возможность просмотреть, кто посещал эти УРЛ.
- Составление статистики по посещаемости. Возможен вывод средних значений и значений, которые не были переведены в архив.
- Удобный просмотр с процентами в графическом режиме (при наявности Интернета, так как графика берется с гугл чарта).
- Архивация данных. Если есть необходимость очистить БД от данных, можна воспользоватся архивацией. При этом все 
данные будут заархивированы в zip архив и сохранены на сервере. А вся статистика за удаляющийся период будет записана 
в БД одной строкой, что сохранит информацию по статистиве и сократит используемое место.
- Настройка плагина. Возможность настроить плагин под себя. Указать свой список роботов-поисковиков, количество выводимых
страниц при пагинации, Интервал фиксации посетителя и т.д..
- Наявность виджета. С помощью виджета можна информировать посетителей о том, с какого IP они зашли, какую платформу, какой браузер они используют.

В основном плагин прост в использовании.

При желании определять страну посетителя могут возникнуть вопросы. Приведу легкий гид по активации данной функции:
1. Необходимо убедится, что после активации плагина, в папке uploads была создана папка iptocountry и что ее права составляют 777.
2. Записать в папку uploads/iptocountry через FTP  файл с базой в csv формате. Я брал базу с http://software77.net/geo-ip/. 
Там база поставляется в зип архиве и имеет название IpToCountry.csv
3. Переименовать IpToCountry.csv в iptocountry.csv
4. Теперь в настройках плагина будет доступна кнопка "Преобразовать". Нажмите на нее. В зависимости от производительности сервера, 
через 1-120 сек (у меня в основном до 4 сек) в папке  uploads/iptocountry появится еще два файла. iptocountry.dat и country.tmp. 
Первый - нужный нам бинарный файл с базой, второй - временный файл со списком стран.
5. Удалите iptocountry.csv и country.tmp.
6. Зайдите в настройки плагина и активируйте функцию. 
7. Плагин готов вычислять страну посетителя.

Плагин поставляется с готовым уже iptocountry.dat бинарным файлом. Для удобства просто скопируйте его в uploads/iptocountry и включите функцию. 

Причиной того, что приходится делать такие сложные шаги является та причина, что база в csv формате занимает около 7-8Мб. А время поиска
 по этой базе нужной страны достигает аж 3-4 секунд. Есть способ использовать БД, но что бы перевести все данные из csv в БД, нужно от 30 сек. 
А при постояном обновлении базы - это очень много времени. Вот и искал способ быстрого поиска по базе и быстрого преобразования. 
Вревенные показатели этого способа - преобразование от 1 сек, поиск страны - 0,003 сек. При этом бинарник занисает всего 500Кб, это в 8 раз меньше чем csv база. 
Довольно ощутимая разница.

Kerzoll.
kerzoll.org.ua